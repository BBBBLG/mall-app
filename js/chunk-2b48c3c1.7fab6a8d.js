(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b48c3c1"],{"17ac":function(e,r,s){},4528:function(e,r,s){"use strict";s("17ac")},"95f5":function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"registered"},[s("a-form-model",e._b({ref:"singUpForm",attrs:{model:e.singUpForm,rules:e.rules}},"a-form-model",e.layout,!1),[s("a-form-model-item",{attrs:{"has-feedback":"",label:"用户名",prop:"username"}},[s("a-input",{model:{value:e.singUpForm.username,callback:function(r){e.$set(e.singUpForm,"username",r)},expression:"singUpForm.username"}})],1),s("a-form-model-item",{attrs:{"has-feedback":"",label:"邮箱",prop:"email"}},[s("a-input",{model:{value:e.singUpForm.email,callback:function(r){e.$set(e.singUpForm,"email",r)},expression:"singUpForm.email"}})],1),s("a-form-model-item",[s("a-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],class:{disabled:e.disabled},on:{click:function(r){return e.getCode("singUpForm")}}},[e._v("点击获取验证码 ")]),s("a-button",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],attrs:{disabled:""}},[e._v(e._s(e.count)+"秒后重发")])],1),s("a-form-model-item",{attrs:{"has-feedback":"",label:"密码：",prop:"password"}},[s("a-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.singUpForm.password,callback:function(r){e.$set(e.singUpForm,"password",r)},expression:"singUpForm.password"}})],1),s("a-form-model-item",{attrs:{"has-feedback":"",label:"重复密码：",prop:"checkpass"}},[s("a-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.singUpForm.checkpass,callback:function(r){e.$set(e.singUpForm,"checkpass",r)},expression:"singUpForm.checkpass"}})],1),s("a-form-model-item",{attrs:{"has-feedback":"",label:"验证码",prop:"code"}},[s("a-input",{model:{value:e.singUpForm.code,callback:function(r){e.$set(e.singUpForm,"code",r)},expression:"singUpForm.code"}})],1),s("a-form-model-item",{attrs:{"wrapper-col":{span:14,offset:4}}},[s("a-button",{staticClass:"submitBtn",attrs:{type:"primary"},on:{click:function(r){return e.submitForm("singUpForm")}}},[e._v(" 提交注册 ")])],1),s("a-form-model-item",[s("router-link",{attrs:{tag:"a-button",to:"login"}},[e._v("前往登录")])],1)],1)],1)},o=[],a=s("c24f"),n={data:function(){var e=this,r=/^[a-zA-Z0-9_-]{4,16}$/,s=function(e,s,t){return s?r.test(s)?t():t(new Error("用户名格式为6-14位")):t(new Error("请输入用户名"))},t=/^([a-zA-Z]|[0-9])(\w|-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/,o=function(r,s,o){return s?t.test(s)?(e.disabled=!1,o()):(e.disabled=!0,o(new Error("邮箱格式不正确"))):(e.disabled=!0,o(new Error("请输入邮箱")))},a=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/,n=function(e,r,s){return""===r?s(new Error("请输入密码")):a.test(r)?s():s(new Error("密码至少包含数字和英文，长度6-20位"))},i=function(r,s,t){""===s?t(new Error("请重复输入密码")):s!==e.singUpForm.password?t(new Error("两次输入密码不一致")):t()},c=function(e,r,s){return""===r?s(new Error("验证码不能为空")):s()};return{count:"",show:!0,timer:null,disabled:!0,singUpForm:{password:"",checkpass:"",email:"",code:"",username:""},rules:{password:[{validator:n,trigger:"change"}],checkpass:[{validator:i,trigger:"change"}],email:[{validator:o,trigger:"change"}],code:[{validator:c,trigger:"change"}],username:[{validator:s,trigger:"change"}]},layout:{labelCol:{span:4},wrapperCol:{span:14}}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate((function(e){return!!e&&(a["a"].registered(r.singUpForm).then((function(){r.$message.success("注册成功，请登录！")})).catch((function(e){r.$message.error(e)})),!0)}))},resetForm:function(e){this.$refs[e].resetFields()},getCode:function(){var e=this;a["a"].getCode(this.singUpForm).then((function(){e.$message.success("获取成功，请注意查看邮箱！")}));var r=60;this.timer||(this.count=r,this.show=!1,this.timer=setInterval((function(){e.count>0&&e.count<=r?e.count-=1:(e.show=!0,clearInterval(e.timer),e.timer=null)}),1e3))}}},i=n,c=(s("4528"),s("2877")),l=Object(c["a"])(i,t,o,!1,null,null,null);r["default"]=l.exports},c24f:function(e,r,s){"use strict";var t=s("bb36");r["a"]={login:function(e){return t["a"].post("/passport/login",e)},registered:function(e){return t["a"].post("/passport/logon",e)},getCode:function(e){return t["a"].post("/passport/getCode",e)}}}}]);
//# sourceMappingURL=chunk-2b48c3c1.7fab6a8d.js.map